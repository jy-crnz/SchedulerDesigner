<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover">

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Sched Designer">
    <link rel="apple-touch-icon" href="AppIcon.png">
    <link rel="icon" type="image/png" href="AppIcon1.png">

    <title>Schedule Designer</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mobile-drag-drop@2.3.0-rc.2/default.css">
    <script src="https://cdn.jsdelivr.net/npm/mobile-drag-drop@2.3.0-rc.2/index.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mobile-drag-drop@2.3.0-rc.2/scroll-behaviour.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

    <link rel="stylesheet" href="style.css">
</head>

<body>

    <div class="app-container">
        <aside class="sidebar">
            <header>
                <h1>Sched Designer</h1>
                <p>Create your custom schedule wallpaper</p>
            </header>

            <button id="helpBtn" class="btn-secondary" style="margin-bottom: 20px; width: 100%;">üìñ How to Use</button>

            <div class="control-section">
                <label>Header Settings</label>
                <div class="input-row">
                    <div class="input-group">
                        <label>Start Year</label>
                        <input type="text" id="yearStartInput" placeholder="2025">
                    </div>
                    <div class="input-group">
                        <label>End Year</label>
                        <input type="text" id="yearEndInput" placeholder="2026">
                    </div>
                </div>
                <div class="input-group">
                    <label>Term No</label>
                    <input type="text" id="termInput" placeholder="TERM 1">
                </div>
            </div>

            <div class="control-section">
                <label>Add New Subject</label>
                <div class="input-group">
                    <label>Subject Name</label>
                    <input type="text" id="subInput" placeholder="e.g., DATABASE">
                </div>

                <div class="input-group">
                    <label>Time & Room</label>
                    <input type="text" id="timeInput" placeholder="8:00 - 11:00">
                    <input type="text" id="roomInput" placeholder="IT331L">
                </div>

                <div class="input-row">
                    <div class="input-group">
                        <label>Day</label>
                        <select id="dayInput">
                            <option value="0">Monday</option>
                            <option value="1">Tuesday</option>
                            <option value="2">Wednesday</option>
                            <option value="3">Thursday</option>
                            <option value="4">Friday</option>
                            <option value="5">Saturday</option>
                            <option value="6">Sunday</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>Row (1-5)</label>
                        <input type="number" id="rowInput" min="1" max="5" placeholder="1">
                    </div>
                </div>

                <button id="addBtn" class="btn-primary">Add to Grid</button>
                <button id="clearBtn" class="btn-secondary">Clear All</button>
            </div>

            <div class="control-section"
                style="border: 1px solid var(--accent-cyan); padding: 15px; border-radius: 16px; background: rgba(0, 243, 255, 0.05);">
                <label style="color: var(--accent-cyan); margin-bottom: 10px; display: block;">AI Schedule Importer</label>
                <p style="font-size: 11px; color: var(--text-dim); margin-bottom: 10px;">Upload a screenshot of your schedule to
                    auto-fill the grid.</p>
            
                <input type="file" id="aiUpload" accept="image/*" style="display: none;">
            
                <button id="scanBtn" class="btn-primary"
                    style="width: 100%; background: linear-gradient(135deg, #00f3ff, #ff00ff); border: none; font-size: 12px; display: flex; align-items: center; justify-content: center; gap: 10px;">
                    <span id="scanText">‚ú® Scan Schedule Image</span>
                    <div id="scanSpinner"
                        style="display: none; width: 14px; height: 14px; border: 2px solid rgba(255,255,255,0.3); border-top: 2px solid white; border-radius: 50%; animation: spin 0.8s linear infinite;">
                    </div>
                </button>
                
                <style>
                    @keyframes spin {
                        0% {
                            transform: rotate(0deg);
                        }
                
                        100% {
                            transform: rotate(360deg);
                        }
                    }
                </style>
            </div>
            
            <hr style="border: 0; border-top: 1px solid var(--glass-border); margin: 10px 0;">

            <div class="control-section">
                <label>Select Theme</label>
                <div class="theme-grid">
                    <button class="theme-dot classic" style="background: white; border: 2px solid #1a237e;"></button>
                    <button class="theme-dot dark" style="background: #333; border: 2px solid #555;"></button>
                    <button class="theme-dot neon" style="background: black; border: 2px solid #00f3ff;"></button>
                </div>
            </div>
        </aside>

        <main class="preview-area">
            <div id="scale-wrap">
                <div id="wallpaper-container" class="theme-classic">
                    <div class="wp-header">
                        <div class="year-box" id="yearStartLabel"><span>2025</span></div>
                        <div class="term-box" id="termLabel"><span>TERM 1</span></div>
                        <div class="year-box" id="yearEndLabel"><span>2026</span></div>
                    </div>

                    <div class="schedule-grid" id="grid">
                        <div class="grid-cell day-label">MON</div>
                        <div class="grid-cell day-label">TUE</div>
                        <div class="grid-cell day-label">WED</div>
                        <div class="grid-cell day-label">THU</div>
                        <div class="grid-cell day-label">FRI</div>
                    </div>

                    <footer class="wp-footer">
                        <p id="footerLabel"></p>
                    </footer>
                </div>

                <button id="downloadBtn" class="btn-download">Download Wallpaper</button>
            </div>
        </main>
    </div>

    <div id="editModal" class="modal-overlay">
        <div class="modal-content">
            <h2 id="modalTitle">Edit Element</h2>
            <div id="modalBody">
            </div>
            <div class="modal-actions">
                <button id="modalApply" class="btn-primary">Apply Changes</button>
                <button id="modalClear" class="btn-clear">Clear Cell</button>
                <button id="modalStar" class="btn-star">Place Star</button>
                <button id="modalClose" class="btn-secondary">Cancel</button>
            </div>
        </div>
    </div>

    <div id="helpModal" class="modal-overlay">
        <div class="modal-content">
            <h2>Designer Guide</h2>
            <ul class="guide-list">
                <li><span>‚ú®</span> <b>Scan Image:</b> Upload a photo to auto-fill the grid and trim empty days.</li>
                <li><span>üéØ</span> <b>Tap any cell:</b> Edit subjects, add stars, or Move/Copy/Delete.</li>
                <li><span>‚úèÔ∏è</span> <b>Tap headers:</b> Edit years and terms directly on the wallpaper.</li>
                <li><span>üîÑ</span> <b>Drag & Drop:</b> Long-press the handle (‚ãÆ‚ãÆ) to swap subjects between slots.</li>
                <li><span>üì∏</span> <b>Download:</b> Save your schedule as a high-res PNG for your lockscreen.</li>
            </ul>
            <button id="helpClose" class="btn-primary">Got it!</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>